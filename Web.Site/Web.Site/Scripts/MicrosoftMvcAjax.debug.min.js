Type.registerNamespace("Sys.Mvc");Sys.Mvc.$create_AjaxOptions=function(){return{}};Sys.Mvc.InsertionMode=function(){};Sys.Mvc.InsertionMode.prototype={replace:0,insertBefore:1,insertAfter:2};Sys.Mvc.InsertionMode.registerEnum("Sys.Mvc.InsertionMode",!1);Sys.Mvc.AjaxContext=function(n,t,i,r){this._request=n;this._updateTarget=t;this._loadingElement=i;this._insertionMode=r};Sys.Mvc.AjaxContext.prototype={_insertionMode:0,_loadingElement:null,_response:null,_request:null,_updateTarget:null,get_data:function(){return this._response?this._response.get_responseData():null},get_insertionMode:function(){return this._insertionMode},get_loadingElement:function(){return this._loadingElement},get_object:function(){var n=this.get_response();return n?n.get_object():null},get_response:function(){return this._response},set_response:function(n){return this._response=n,n},get_request:function(){return this._request},get_updateTarget:function(){return this._updateTarget}};Sys.Mvc.AsyncHyperlink=function(){};Sys.Mvc.AsyncHyperlink.handleClick=function(n,t,i){t.preventDefault();Sys.Mvc.MvcHelpers._asyncRequest(n.href,"post","",n,i)};Sys.Mvc.MvcHelpers=function(){};Sys.Mvc.MvcHelpers._serializeSubmitButton=function(n,t,i){var r,e;if(n.disabled)return null;if(r=n.name,r){var o=n.tagName.toUpperCase(),u=encodeURIComponent(r),f=n;if(o==="INPUT"){if(e=f.type,e==="submit")return u+"="+encodeURIComponent(f.value);if(e==="image")return u+".x="+t+"&"+u+".y="+i}else if(o==="BUTTON"&&r.length&&f.type==="submit")return u+"="+encodeURIComponent(f.value)}return null};Sys.Mvc.MvcHelpers._serializeForm=function(n){for(var i,r,f,s,u,h,v,e,c,l,a=n.elements,t=new Sys.StringBuilder,y=a.length,o=0;o<y;o++)if(i=a[o],r=i.name,r&&r.length)if(f=i.tagName.toUpperCase(),f==="INPUT")s=i,u=s.type,(u==="text"||u==="password"||u==="hidden"||(u==="checkbox"||u==="radio")&&i.checked)&&(t.append(encodeURIComponent(r)),t.append("="),t.append(encodeURIComponent(s.value)),t.append("&"));else if(f==="SELECT")for(h=i,v=h.options.length,e=0;e<v;e++)c=h.options[e],c.selected&&(t.append(encodeURIComponent(r)),t.append("="),t.append(encodeURIComponent(c.value)),t.append("&"));else f==="TEXTAREA"&&(t.append(encodeURIComponent(r)),t.append("="),t.append(encodeURIComponent(i.value)),t.append("&"));return l=n._additionalInput,l&&(t.append(l),t.append("&")),t.toString()};Sys.Mvc.MvcHelpers._asyncRequest=function(n,t,i,r,u){var e,h,c,f,l,o,s,a;(!u.confirm||confirm(u.confirm))&&(u.url&&(n=u.url),u.httpMethod&&(t=u.httpMethod),i.length>0&&!i.endsWith("&")&&(i+="&"),i+="X-Requested-With=XMLHttpRequest",e=t.toUpperCase(),h=e==="GET"||e==="POST",h||(i+="&",i+="X-HTTP-Method-Override="+e),c="",e==="GET"||e==="DELETE"?n.indexOf("?")>-1?(n.endsWith("&")||(n+="&"),n+=i):(n+="?",n+=i):c=i,f=new Sys.Net.WebRequest,f.set_url(n),h?f.set_httpVerb(t):(f.set_httpVerb("POST"),f.get_headers()["X-HTTP-Method-Override"]=e),f.set_body(c),t.toUpperCase()==="PUT"&&(f.get_headers()["Content-Type"]="application/x-www-form-urlencoded;"),f.get_headers()["X-Requested-With"]="XMLHttpRequest",l=null,u.updateTargetId&&(l=$get(u.updateTargetId)),o=null,u.loadingElementId&&(o=$get(u.loadingElementId)),s=new Sys.Mvc.AjaxContext(f,l,o,u.insertionMode),a=!0,u.onBegin&&(a=u.onBegin(s)!==!1),o&&Sys.UI.DomElement.setVisible(s.get_loadingElement(),!0),a&&(f.add_completed(Function.createDelegate(null,function(){Sys.Mvc.MvcHelpers._onComplete(f,u,s)})),f.invoke()))};Sys.Mvc.MvcHelpers._onComplete=function(request,ajaxOptions,ajaxContext){var statusCode,contentType;if(ajaxContext.set_response(request.get_executor()),!ajaxOptions.onComplete||ajaxOptions.onComplete(ajaxContext)!==!1){if(statusCode=ajaxContext.get_response().get_statusCode(),statusCode>=200&&statusCode<300||statusCode===304||statusCode===1223){if(statusCode!==204&&statusCode!==304&&statusCode!==1223&&(contentType=ajaxContext.get_response().getResponseHeader("Content-Type"),contentType&&contentType.indexOf("application/x-javascript")!==-1?eval(ajaxContext.get_data()):Sys.Mvc.MvcHelpers.updateDomElement(ajaxContext.get_updateTarget(),ajaxContext.get_insertionMode(),ajaxContext.get_data())),ajaxOptions.onSuccess)ajaxOptions.onSuccess(ajaxContext)}else if(ajaxOptions.onFailure)ajaxOptions.onFailure(ajaxContext);ajaxContext.get_loadingElement()&&Sys.UI.DomElement.setVisible(ajaxContext.get_loadingElement(),!1)}};Sys.Mvc.MvcHelpers.updateDomElement=function(n,t,i){if(n)switch(t){case Sys.Mvc.InsertionMode.replace:n.innerHTML=i;break;case Sys.Mvc.InsertionMode.insertBefore:i&&i.length>0&&(n.innerHTML=i+n.innerHTML.trimStart());break;case Sys.Mvc.InsertionMode.insertAfter:i&&i.length>0&&(n.innerHTML=n.innerHTML.trimEnd()+i)}};Sys.Mvc.AsyncForm=function(){};Sys.Mvc.AsyncForm.handleClick=function(n,t){var i=Sys.Mvc.MvcHelpers._serializeSubmitButton(t.target,t.offsetX,t.offsetY);n._additionalInput=i};Sys.Mvc.AsyncForm.handleSubmit=function(n,t,i){var r,u,f,e;if(t.preventDefault(),r=n.validationCallbacks,r)for(u=0;u<r.length;u++)if(f=r[u],!f())return;e=Sys.Mvc.MvcHelpers._serializeForm(n);Sys.Mvc.MvcHelpers._asyncRequest(n.action,n.method||"post",e,n,i)};Sys.Mvc.AjaxContext.registerClass("Sys.Mvc.AjaxContext");Sys.Mvc.AsyncHyperlink.registerClass("Sys.Mvc.AsyncHyperlink");Sys.Mvc.MvcHelpers.registerClass("Sys.Mvc.MvcHelpers");Sys.Mvc.AsyncForm.registerClass("Sys.Mvc.AsyncForm");
/*
//# sourceMappingURL=MicrosoftMvcAjax.debug.min.js.map
*/
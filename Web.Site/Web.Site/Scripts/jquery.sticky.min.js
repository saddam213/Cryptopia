/* http://keith-wood.name/sticky.html
   Sticky element for jQuery v1.0.0.
   Written by Keith Wood (kwood{at}iinet.com.au) November 2014.
   Available under the MIT (http://keith-wood.name/licence.html) license. 
   Please attribute the author if you use it. */
(function($){var j='sticky';var k=1;$.JQPlugin.createPlugin({name:j,defaultOptions:{boundedBy:'#content',marginTop:0,scrolled:null},_instSettings:function(a,b){var c=a.parent();var d=c.css('position');a.parent().css('position','relative');var e=$('<div></div>').insertBefore(a);return{boundedBy:$(b.boundedBy),parent:c,position:d,marker:e,lastPosition:'static',lastTop:0,uid:k++}},_optionsChanged:function(a,b,c){if(b.boundedBy.length){var d='.'+this.name+b.uid;$(window).off(d).on('scroll'+d+' resize'+d,{inst:b},this._windowScroll).trigger('scroll',{data:{inst:b}})}},_windowScroll:function(e){var a=e.data.inst;var b=$(window).scrollTop()+a.options.marginTop;var c=a.boundedBy.outerHeight()+a.boundedBy.offset().top-a.options.marginTop;var d=a.parent.offset().top;var f=a.elem.outerHeight();var g='static';var h=0;var i='top';if((b+f)>c){g='absolute';h=c-f-d;i='bottom'}else if(b>=a.marker.offset().top){g='absolute';h=b-d;i='float'}if(a.lastPosition!==g||a.lastTop!==h){a.elem.css({position:g,top:h});a.lastPosition=g;a.lastTop=h;if($.isFunction(a.options.scrolled)){a.options.scrolled.call(a.elem[0],[i])}}},_preDestroy:function(a,b){a.css({position:'static',top:0}).parent().css({position:b.position});b.marker.remove();$(window).off('.'+this.name+b.uid)}})})(jQuery);
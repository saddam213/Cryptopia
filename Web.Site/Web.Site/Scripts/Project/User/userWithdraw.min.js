function resendConfirmationEmail(n){confirm(Resources.UserWithdraw.ResendEmailQuestionTitle,Resources.UserWithdraw.ResendEmailQuestion,function(){$.blockUI({message:Resources.UserWithdraw.ResendingEmailMessage});getJson(actionresend,{withdrawId:n},function(n){$.unblockUI();n.IsError&&notify(Resources.UserWithdraw.ResendEmailErrorMessageTitle,n.Message);notify(Resources.UserWithdraw.ResendEmailSuccessMessageTitle,n.Message)})})}function cancelWithdraw(n){confirm(Resources.UserWithdraw.CancelQuestionTitle,Resources.UserWithdraw.CancelQuestion,function(){$.blockUI({message:Resources.UserWithdraw.CancelingMessage});getJson(actioncancel,{withdrawId:n},function(n){$.unblockUI();n.Success?(datatable.ajax.reload(),notify(Resources.UserWithdraw.CancelSuccessMessageTitle,n.Message)):notify(Resources.UserWithdraw.CancelErrorMessageTitle,n.Message)})})}var datatable,table=$("#withdrawals"),action=table.data("action"),actionresend=table.data("action-resend"),actioncancel=table.data("action-cancel");datatable=table.DataTable({dom:datatableExportLayout,buttons:datatableExportButtons("Withdraw History"),lengthChange:!0,lengthMenu:[[15,50,500,5e3,25e3],[15,50,500,5e3,25e3]],order:[[0,"desc"]],searchDelay:800,processing:!1,bServerSide:!0,searching:!0,scrollCollapse:!0,scrollX:"100%",paging:!0,info:!0,iDisplayLength:15,sAjaxSource:action,sServerMethod:"POST",language:{emptyTable:Resources.UserWithdraw.EmptyListMessage,paginate:{next:Resources.General.Next,previous:Resources.General.Previous}},columnDefs:[{targets:1,render:function(n){return'<div style="display:inline-block"><div class="sprite-small small/'+n+'-small.png"><\/div> '+n+"<\/div>"}},{targets:5,searchable:!1,orderable:!1,render:function(n,t,i){return!n&&i[4]==="Unconfirmed"?'<div style="max-width:300px" class="btn-group btn-group-xs btn-group-justified nopad" ><a class="btn btn-xs btn-default" onclick="resendConfirmationEmail('+i[0]+');">'+Resources.UserWithdraw.ResendEmailButton+'<\/a><a class="btn btn-xs btn-warning" onclick="cancelWithdraw('+i[0]+');">'+Resources.General.Cancel+"<\/a><\/div>":'<div style="text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;max-width:300px">'+n+"<\/div>"}},{targets:6,render:function(n){return'<div style="text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;max-width:200px">'+n+"<\/div>"}},{targets:7,searchable:!0,orderable:!0,render:function(n){return toLocalTime(n)}}]});$("#withdrawsTarget").addClass("user-tabtarget");
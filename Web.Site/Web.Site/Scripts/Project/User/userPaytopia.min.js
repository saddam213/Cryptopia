function getPayment(n){openModalGet(getPaymentAction,{id:n},function(n){showMessage(n)})}var table=$("#payments"),tableaction=table.data("action"),getPaymentAction=table.data("action-get"),datatable=table.DataTable({order:[[0,"desc"]],searchDelay:800,lengthChange:!1,processing:!1,bServerSide:!0,searching:!0,scrollCollapse:!0,scrollX:"100%",paging:!0,info:!0,iDisplayLength:15,sAjaxSource:tableaction,sServerMethod:"POST",language:{emptyTable:Resources.UserPaytopia.EmptyListMessage,paginate:{next:Resources.General.Next+"!",previous:Resources.General.Previous}},columnDefs:[{targets:[5,6],visible:!1,searchable:!1,orderable:!1},{targets:[7,8],render:function(n){return toLocalDate(n)}},{targets:[9],render:function(n,t,i){return i[4]=="Pending"?String.format("<i>{0}<\/i>",Resources.UserPaytopia.TransferIdPendingValue):n==0?String.format("<i class='text-danger'>{0}<\/i>",Resources.UserPaytopia.TransferIdErrorValue):n}},{targets:[10],render:function(n,t,i){return i[4]=="Refunded"&&n>0?n:i[4]=="Refunded"&&n==0?String.format("<i class='text-danger'>{0}<\/i>",Resources.UserPaytopia.RefundIdErrorValue):String.format("<i>{0}<\/i>",Resources.General.NotAwailable)}},{targets:[12],searchable:!1,orderable:!1,render:function(n,t,i){return'<button class="btn btn-default btn-xs pull-right" style="width:100px" onclick="getPayment('+i[0]+')">'+Resources.UserPaytopia.InfoButton+"<\/button>"}}],fnDrawCallback:function(){}});$("#paytopiaTarget").addClass("user-tabtarget");
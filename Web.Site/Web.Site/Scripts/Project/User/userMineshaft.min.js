function createWorker(){openModalGet(actioncreate,{},function(n){n&&n.Success&&(datatable.ajax.reload(),showMessage(n))})}function updateWorker(n){openModalGet(actionupdate,{id:n},function(n){n&&n.Success&&(datatable.ajax.reload(),showMessage(n))})}function updatePool(n){openModalGet(actionupdatepool,{id:n},function(n){n&&n.Success&&(datatable.ajax.reload(),showMessage(n))})}function deleteWorker(n){confirm("Delete Worker?","Are you sure you want to delete this worker?",function(){$.blockUI({message:"Deleting worker..."});postJson(actiondelete,{workerId:n},function(n){datatable.ajax.reload();$.unblockUI();showMessage(n)})})}var datatable,table=$("#workers"),action=table.data("action"),actionmineshaft=table.data("action-mineshaft"),actioncreate=table.data("action-create"),actionupdate=table.data("action-update"),actiondelete=table.data("action-delete"),actionupdatepool=table.data("action-updatepool"),workerOptionsTemplate=$("#workerOptionsTemplate").html();datatable=table.DataTable({order:[[8,"desc"],[3,"desc"],[1,"asc"]],searchDelay:800,lengthChange:!1,processing:!1,bServerSide:!1,searching:!1,paging:!1,info:!1,scrollCollapse:!0,scrollX:"100%",scrollY:"800px",iDisplayLength:10,sAjaxSource:action,sServerMethod:"POST",language:{emptyTable:"You have no workers configured."},columnDefs:[{targets:[0,6],visible:!1},{targets:3,searchable:!0,orderable:!0,render:function(n){return hashrateLabel(n)}},{targets:5,searchable:!0,orderable:!0,render:function(n,t,i){return n?'<a href="/Mineshaft?Algo='+i[2]+"&Pool="+n+'">'+n+"<\/a>":'<small class="text-danger" style="font-size:10px"><i>No pool selected.<\/i><\/small>'}},{targets:9,searchable:!1,orderable:!1,render:function(n,t,i){return Mustache.render(workerOptionsTemplate,{updatePool:"updatePool("+i[0]+")",updateWorker:"updateWorker("+i[0]+")",deleteWorker:"deleteWorker("+i[0]+")"})}}],fnRowCallback:function(n,t){t[8]==!0&&$(n).addClass("success")}});$("#minersTarget").addClass("user-tabtarget");
$(function(){$("#AddressBook").on("change",function(){var t=$(this).val(),n;t||$("#AddressData, #AddressData2, #AddressDataReadonly, #AddressDataReadonly2").val(null);n=t.split(":");$("#AddressData, #AddressDataReadonly").val(n[0]);n.length==2&&$("#AddressData2, #AddressDataReadonly2").val(n[1])});$("#AddressData, #AddressData2").on("keyup cut paste",function(){$("#AddressBook").val(null)});$(".form-horizontal").on("submit",function(){var n=$(this),t=n.valid();t&&($("#submit, #cancel").attr("disabled","disabled"),$("#submit").html(String.format('<span><i class="fa fa-spinner fa-pulse fa-fw"><\/i> {0}<\/span>',Resources.General.ProcessingMessage)))});$("#Amount").on("change keyup paste",function(){var r=$(this),n=0,t=+fees,i=+r.val()||0;feeType=="Percent"?(t=i-i/100*fees,n=i-t):n=i-fees;$("#feeamount").html(t.toFixed(decimals));$("#netamount").html(n.toFixed(decimals));$("#netamount").removeClass("text-success text-danger");$("#netamount").addClass(n>t?"text-success":"text-danger")});$("#Amount").on("change",function(){var n=$(this);n.val((+n.val()).toFixed(decimals))});$("#balance").on("click",function(){var n=$(this);$("#Amount").val(n.html()).trigger("change")});$("[name=fiatOptions]").click(function(){var n=$(this).val();$(".fiatOptions").hide();$(".fiatOption"+n).show();n=="Bank"?$("#AddressData").mask("99-9999-9999999-99?9"):$("#AddressData").unmask()});$("#fiatOptionBank").trigger("click");$("#sendtfacode").on("click",function(){$("#tfaCodeMessage").hide();$("#tfaCodeMessage").removeClass("alert-success alert-danger");$.blockUI({message:Resources.WithdrawCreate.SendingCodeMessage});getJson(tfaCodeAction,{componentType:20},function(n){$.unblockUI();$("#tfaCodeMessage").show();n.Success?($("#tfaCodeMessage").addClass("alert-success"),$("#tfaCodeMessage > p").html(Resources.WithdrawCreate.SendingCodeSuccessMessage)):($("#tfaCodeMessage").addClass("alert-danger"),$("#errorMessage > p").html(String.format(Resources.WithdrawCreate.withdrawCreateSendingCodeFailureMessage,String.Format('<a href="/Support">{0}<\/a>',Resources.GeneralCryptopiaSupportLink))))})})});